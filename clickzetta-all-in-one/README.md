# ClickZetta All-in-One Demo

🚀 **一站式体验所有 ClickZetta 存储服务与 LangChain 功能的综合演示平台**

这个 All-in-One 演示将所有 ClickZetta LangChain 示例集成到一个统一的界面中，让您可以在一个页面中体验所有功能，是学习和演示的完美选择。

## 🌟 功能特色

### 🎯 六大核心功能模块

#### 1. 📊 系统概览
- **实时统计监控**: 所有存储服务的数据量统计
- **可视化图表**: 数据分布的饼图和柱状图展示
- **健康状态**: 各存储服务的运行状态监控
- **快速导航**: 一目了然的系统整体状况

#### 2. 📄 智能文档摘要
- **多种输入方式**: 支持文本输入和文件上传
- **AI 智能摘要**: 使用通义千问生成精准摘要
- **DocumentStore 存储**: 自动存储文档和摘要信息
- **元数据管理**: 记录创建时间、字数等详细信息

#### 3. 💬 智能问答系统
- **上下文问答**: 基于已存储文档的智能问答
- **聊天历史**: 使用 ChatMessageHistory 记录对话
- **相关文档检索**: 自动检索相关文档作为回答依据
- **实时对话**: 流畅的聊天体验

#### 4. 🔍 混合搜索系统
- **三种搜索模式**: 语义搜索、关键词搜索、混合搜索
- **HybridStore 集成**: 充分利用混合存储的优势
- **智能排序**: 根据相关性排序搜索结果
- **详细结果**: 显示内容摘要和完整元数据

#### 5. 🕷️ 网络爬虫演示
- **智能网页爬取**: 自动提取网页标题和内容
- **多存储集成**: 同时存储到 DocumentStore、FileStore、VectorStore
- **状态缓存**: 使用 Store 记录爬取状态
- **内容预览**: 爬取结果的即时预览

#### 6. 💾 SQL 智能问答
- **自然语言转SQL**: 将自然语言自动转换为SQL查询
- **直接SQL执行**: 支持直接编写和执行SQL语句
- **表结构展示**: 显示所有可用的数据表信息
- **结果可视化**: 以表格形式展示查询结果

## 🏗️ 技术架构

### 完整的存储服务演示

```
All-in-One Demo
      ↓
┌─────────────────────────┐
│    Streamlit 界面层      │
│  (统一的多标签页界面)     │
└─────────────────────────┘
      ↓
┌─────────────────────────┐
│    业务逻辑层           │
│  • 文档摘要逻辑         │
│  • 问答逻辑            │
│  • 搜索逻辑            │
│  • 爬虫逻辑            │
│  • SQL转换逻辑         │
└─────────────────────────┘
      ↓
┌─────────────────────────┐
│  ClickZetta 存储服务层   │
│  • DocumentStore       │
│  • Store (键值存储)      │
│  • FileStore (Volume)   │
│  • VectorStore         │
│  • HybridStore         │
│  • ChatMessageHistory  │
└─────────────────────────┘
      ↓
┌─────────────────────────┐
│    ClickZetta 引擎      │
│   (统一的数据管理)       │
└─────────────────────────┘
```

### 数据流转示例

1. **文档摘要流程**:
   ```
   用户输入 → AI摘要生成 → DocumentStore存储 → 统计更新
   ```

2. **问答系统流程**:
   ```
   用户提问 → VectorStore检索 → AI生成答案 → ChatMessageHistory记录
   ```

3. **网页爬虫流程**:
   ```
   URL输入 → 内容爬取 → 多存储分发:
                     ├── DocumentStore (文本)
                     ├── FileStore (HTML文件)
                     ├── VectorStore (向量)
                     └── Store (状态缓存)
   ```

## 🚀 快速开始

### 启动应用

```bash
# 从项目根目录启动
./start.sh allinone

# 或直接启动
cd clickzetta-all-in-one
streamlit run streamlit_app.py
```

### 使用步骤

1. **初始化系统**
   - 确保 `.env` 文件配置正确
   - 点击侧边栏的"🚀 初始化系统"按钮
   - 等待所有存储服务初始化完成

2. **体验各功能模块**
   - 📊 **系统概览**: 查看整体数据统计
   - 📄 **文档摘要**: 上传文档生成摘要
   - 💬 **智能问答**: 基于文档进行问答
   - 🔍 **混合搜索**: 搜索已存储的内容
   - 🕷️ **网络爬虫**: 爬取网页内容
   - 💾 **SQL问答**: 查询数据库信息

3. **监控系统状态**
   - 侧边栏实时显示各存储服务的数据量
   - 系统概览页面提供详细的可视化图表

## 🎯 使用场景

### 演示场景
- **技术展示**: 向客户展示 ClickZetta 的完整能力
- **培训教学**: 一个界面学习所有存储服务
- **功能验证**: 快速验证各种集成功能
- **原型开发**: 作为新项目的起始模板

### 实际应用场景
- **企业知识库**: 文档摘要 + 智能问答
- **内容管理**: 网页爬虫 + 混合搜索
- **数据分析**: SQL问答 + 可视化展示
- **智能客服**: 问答系统 + 聊天历史

## 🔧 技术特性

### 界面设计
- **响应式布局**: 适配不同屏幕尺寸
- **现代化UI**: 美观的卡片式设计
- **交互友好**: 清晰的进度提示和错误处理
- **实时更新**: 动态统计和状态刷新

### 性能优化
- **会话状态管理**: 高效的状态缓存
- **异步处理**: 非阻塞的AI调用
- **错误容错**: 完善的异常处理机制
- **资源管理**: 合理的连接池管理

### 扩展性
- **模块化设计**: 易于添加新功能
- **配置化**: 支持多环境配置
- **插件友好**: 便于集成第三方服务
- **监控集成**: 支持外部监控系统

## 📊 数据统计展示

应用提供多维度的数据统计：

- **存储分布**: 各存储服务的数据量对比
- **使用趋势**: 功能使用频率统计
- **性能指标**: 响应时间和成功率
- **资源利用**: 存储空间和计算资源

## 🛠️ 自定义配置

### 环境变量
```bash
# ClickZetta 配置
CLICKZETTA_SERVICE=your-service
CLICKZETTA_INSTANCE=your-instance
CLICKZETTA_WORKSPACE=your-workspace
CLICKZETTA_SCHEMA=your-schema
CLICKZETTA_USERNAME=your-username
CLICKZETTA_PASSWORD=your-password
CLICKZETTA_VCLUSTER=your-vcluster

# AI 服务配置
DASHSCOPE_API_KEY=your-dashscope-api-key
```

### 自定义表名
所有存储服务使用 `allinone_` 前缀，避免与其他示例冲突：
- `allinone_documents` - 文档存储
- `allinone_cache` - 键值缓存
- `allinone_vectors` - 向量存储
- `allinone_hybrid` - 混合存储
- `allinone_chat_history` - 聊天历史

## 🎓 学习价值

通过这个 All-in-One 演示，您将学会：

1. **ClickZetta 生态**: 完整的存储服务体系
2. **LangChain 集成**: 各种 LangChain 组件的使用
3. **AI 应用开发**: 从数据到应用的完整流程
4. **企业级设计**: 可扩展的应用架构模式
5. **用户体验**: 现代化的界面设计原则

## 💡 最佳实践

### 开发建议
- 先在单个功能模块中验证逻辑
- 逐步集成到 All-in-One 应用中
- 注意不同存储服务的数据一致性
- 合理设计错误处理和用户反馈

### 部署建议
- 使用容器化部署提高可靠性
- 配置健康检查和监控告警
- 实施数据备份和恢复策略
- 考虑负载均衡和高可用性

这个 All-in-One 演示是体验 ClickZetta LangChain 生态的最佳起点，展示了现代 AI 应用开发的完整技术栈！